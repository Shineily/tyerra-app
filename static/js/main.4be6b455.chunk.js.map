{"version":3,"sources":["firebase/firebase-config.js","routers/PrivateRouter.js","routers/PublicRouter.js","helpers/loadAllHouses.js","helpers/loadhouses.js","helpers/loadphoto.js","types/types.js","action/houses.js","components/housesSellersBuy/HouseSell.js","components/houses/AllHouses.js","helpers/loadUserInfo.js","action/ui.js","action/auth.js","components/housesSellersBuy/MyHouse.js","components/housesSellersBuy/MyHouses.js","components/houses/SideBar.js","components/houses/SideBarBuy.js","components/houses/HousesScreen.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreenBuy.js","components/auth/RegisterScreenSeller.js","routers/AuthRouter.js","routers/AppRouter.js","reducers/authReducer.js","reducers/uiReducer.js","reducers/housesReducer.js","store/store.js","TyerraApp.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","PrivateRoute","isAuthenticated","Component","component","rest","props","to","prototype","PropTypes","bool","isRequired","func","PublicRouter","loadAllHouses","a","collection","get","allHouses","houses","forEach","snapChild","push","id","data","loadhouses","uid","notesSnap","notes","loadphoto","file","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","types","startNewHouse","formValues","dispatch","getState","auth","newHouse","colonia","description","conUid","add","doc","set","addNewHouse","activeHouse","refreshAllHouse","house","type","payload","startLoadingHouses","setAllHouses","setHouses","startSaveHouse","url","houseToFirestore","update","refreshHouse","startUploading","activeHouses","active","Swal","fire","title","text","allowOutsideClick","fileUrl","newUrl","close","startInactive","deleteHouse","HouseSell","useDispatch","useSelector","state","user","userId","editActive","handleEdit","html","focusConfirm","preConfirm","document","getElementById","value","editedHouse","handleEditPhoto","input","inputAttributes","reader","FileReader","onload","e","imageUrl","target","result","imageAlt","readAsDataURL","handleRequest","className","style","backgroundSize","backgroundImage","onClick","delete","startDeleting","deleteHouseBuy","AllHouses","placeholder","autoComplete","map","handleClick","src","alt","width","height","loadUserInfo","userInfo","info","console","log","isSeller","finishLoading","getUserInfo","typeUserInfo","startLoginEmailPassword","email","password","signInWithEmailAndPassword","then","login","displayName","catch","message","isSellerBollean","startLogout","signOut","logout","MyHouse","MyHouses","SideBar","name","handleAddNew","SideBarBuy","HousesScreen","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","LoginScreen","loading","ui","onSubmit","preventDefault","onChange","disabled","RegisterScreenBuy","password2","isFromValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","userType","startRegisterWithEmailPasswordNameBuy","RegisterScreenSeller","startRegisterWithEmailPasswordNameSeller","AuthRouter","path","AppRouter","isLoggedIn","setIsLoggedIn","useEffect","onAuthStateChanged","exact","initialstate","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","TyerraApp","ReactDOM","render"],"mappings":"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","file":"static/js/main.4be6b455.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAgZnRpoGnxhYpm4PD_88p7Pt6icqSbkI0\",\r\n    authDomain: \"tyerra-app.firebaseapp.com\",\r\n    databaseURL: \"https://tyerra-app.firebaseio.com\",\r\n    projectId: \"tyerra-app\",\r\n    storageBucket: \"tyerra-app.appspot.com\",\r\n    messagingSenderId: \"44154961316\",\r\n    appId: \"1:44154961316:web:e8471e2ee4ecf6e2fcd531\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\n// const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport { db, firebase };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to='/auth/login' />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPrivateRoute.prototype = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PublicRouter = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        !isAuthenticated ? <Component {...props} /> : <Redirect to='/' />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPublicRouter.prototype = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};","import { db } from \"../firebase/firebase-config\"\r\n\r\nexport const loadAllHouses = async () => {\r\n    const allHouses = await db.collection(`houses`).get();\r\n    const houses = [];\r\n\r\n    allHouses.forEach((snapChild) => {\r\n        houses.push({id: snapChild.id, ...snapChild.data()})\r\n    });\r\n    return houses;\r\n}\r\n","import { db } from '../firebase/firebase-config';\r\n\r\nexport const loadhouses = async (uid) => {\r\n  const notesSnap = await db.collection(`${uid}/houses/data`).get();\r\n  const notes = [];\r\n\r\n  notesSnap.forEach((snapChild) => {\r\n    notes.push({ id: snapChild.id, ...snapChild.data() });\r\n  });\r\n\r\n  return notes;\r\n};\r\n\r\n","export const loadphoto = async (file) => {\r\n    const cloudUrl = 'https://api.cloudinary.com/v1_1/dundbscnr/upload';\r\n    const formData = new FormData();\r\n    formData.append('upload_preset','react-journal');\r\n    formData.append('file',file);\r\n\r\n    try {\r\n        const resp = await fetch(cloudUrl, {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n\r\n        if(resp.ok) {\r\n            const cloudResp = await resp.json();\r\n            return cloudResp.secure_url\r\n        } else {\r\n            throw await resp.json();\r\n        }\r\n    } catch (error) {\r\n        throw error\r\n    }\r\n}","export const types = {\r\n    login: '[Auth] Login',\r\n    logout: '[Auth] Logout',\r\n  \r\n    uiStartLoading: '[UI] Start Loading',\r\n    uiFinishLoading: '[UI] Finish Loading',\r\n\r\n\r\n    uiStartInfoUser: '[UI] Start Info User',\r\n    uiFinishLoadingSeller: '[UI] Finish Loading Seller',\r\n\r\n    housesAddNew: '[Houses] New house',\r\n    houseActive: '[Houses] Set active house',\r\n    housesInactive: '[Houses] Set inactive house',\r\n    housesLoad: '[Houses] Load houses',\r\n    housesAllLoad: '[Houses] All Load',\r\n    housesUpdated: '[Houses] Updated house',\r\n    housesUpdatedAllHouses: '[Houses] Updated All Houses',\r\n    housesDelete: '[Houses] Delete house',\r\n    housesLogoutCleaning: '[Houses] Logout Cleaning',\r\n};\r\n  ","import Swal from 'sweetalert2';\r\nimport { db } from '../firebase/firebase-config';\r\nimport { loadAllHouses } from '../helpers/loadAllHouses';\r\nimport { loadhouses } from '../helpers/loadhouses';\r\nimport { loadphoto } from '../helpers/loadphoto';\r\nimport { types } from '../types/types';\r\n\r\nexport const startNewHouse = (formValues) => {\r\n    return async (dispatch, getState) => {\r\n      const { uid } = getState().auth;\r\n  \r\n      const newHouse = {\r\n        colonia: formValues[0],\r\n        description: formValues[1],\r\n      };\r\n\r\n      const conUid  = {\r\n        ...newHouse,\r\n        uid: uid\r\n      }\r\n  \r\n      const doc = await db.collection(`${uid}/houses/data`).add(newHouse);\r\n      await db.collection(`houses`).doc(`${doc.id}`).set(conUid);\r\n\r\n      dispatch(addNewHouse(doc.id, conUid));\r\n      dispatch(activeHouse(doc.id, conUid));\r\n      dispatch(refreshAllHouse(doc.id, conUid));\r\n    };\r\n};\r\n\r\nexport const saveHouse = (house) => {\r\n  return async (dispatch, getState) => {\r\n    const { uid } = getState().auth;\r\n\r\n    await db.collection(`${uid}/houses/data`).doc(house.id).set(house);\r\n\r\n    dispatch(addNewHouse(house.id, house));\r\n    dispatch(activeHouse(house.id, house));\r\n  };\r\n}\r\n\r\nexport const activeHouse = (id, house) => ({\r\n    type: types.houseActive,\r\n    payload: {\r\n      id,\r\n      ...house,\r\n    },\r\n  });\r\n\r\nexport const addNewHouse = (id, house) => ({\r\n    type: types.housesAddNew,\r\n    payload: {\r\n      id,\r\n      ...house\r\n    }\r\n});\r\n\r\nexport const startLoadingHouses = (uid) => {\r\n    return async (dispatch) => {\r\n      const houses = await loadhouses(uid);\r\n      const allHouses = await loadAllHouses();\r\n      dispatch(setAllHouses(allHouses));\r\n      dispatch(setHouses(houses));\r\n    };\r\n};\r\n\r\n// export const uploadAllHouses = (allHouses) => {\r\n//   refreshAllHouse(allhouses);\r\n// };\r\n\r\nexport const setAllHouses = (allHouses) => ({\r\n  type: types.housesAllLoad,\r\n  payload: allHouses\r\n});\r\n  \r\nexport const setHouses = (houses) => ({\r\n    type: types.housesLoad,\r\n    payload: houses,\r\n});\r\n\r\nexport const startSaveHouse = (house) => {\r\n    return async (dispatch, getState) => {\r\n\r\n      const { uid } = getState().auth;\r\n\r\n      if(!house.url) {\r\n        delete house.url;\r\n      }\r\n      \r\n      const houseToFirestore = {...house};\r\n      delete houseToFirestore.id;\r\n  \r\n      await db.doc(`${uid}/houses/data/${house.id}`).update(houseToFirestore);\r\n      await db.doc(`houses/${house.id}`).update(houseToFirestore);\r\n      dispatch(refreshHouse(house.id, houseToFirestore));\r\n      dispatch(refreshAllHouse(house.id, houseToFirestore));\r\n      dispatch(activeHouse(house.id, houseToFirestore));\r\n    }\r\n};\r\n\r\n\r\nexport const refreshAllHouse = (id, house) => ({\r\n  type: types.housesUpdatedAllHouses,\r\n  payload: {\r\n    id, \r\n    data: {\r\n      id,\r\n      ...house\r\n    }\r\n  }\r\n});\r\n\r\n\r\nexport const refreshHouse = (id, house) => ({\r\n    type: types.housesUpdated,\r\n    payload: {\r\n      id, \r\n      data: {\r\n        id,\r\n        ...house\r\n      }\r\n    }\r\n});\r\n\r\nexport const startUploading = (file) => {\r\n    return async (dispatch, getState) => {\r\n      const { uid } = getState().auth;\r\n      const {active:activeHouses} = getState().houses;\r\n      Swal.fire({\r\n        title: 'Uploading...', \r\n        text: 'Please wait...', \r\n        allowOutsideClick: false,\r\n\r\n      });\r\n      const fileUrl = await loadphoto(file);\r\n\r\n      const newUrl = {\r\n        ...activeHouses,\r\n        url : fileUrl\r\n      }\r\n\r\n      await db.doc(`${uid}/houses/data/${activeHouses.id}`).update(newUrl);\r\n      await db.doc(`houses/${activeHouses.id}`).update(newUrl);\r\n      dispatch(refreshHouse(activeHouses.id, newUrl));\r\n      dispatch(refreshAllHouse(activeHouses.id, newUrl));\r\n      dispatch(activeHouse(activeHouses.id, newUrl));\r\n      Swal.close();\r\n    }\r\n};\r\n\r\nexport const startDeleting = (id) => {\r\n    return async (dispatch, getState) => {\r\n      const uid = getState().auth.uid;\r\n      await db.doc(`${uid}/houses/data/${id}`).delete();\r\n      await db.doc(`houses/${id}`).delete();\r\n      dispatch(deleteHouse(id));\r\n    }\r\n};\r\n\r\nexport const deleteHouseBuy = (id) => {\r\n  return async (dispatch, getState) => {\r\n    const {uid} = getState().auth;\r\n    await db.doc(`${uid}/houses/data/${id}`).delete();\r\n    dispatch(deleteHouse(id));\r\n  }\r\n};\r\n\r\nexport const startInactive = () => ({\r\n  type: types.housesInactive\r\n});\r\n  \r\nexport const deleteHouse = (id) => ({\r\n    type: types.housesDelete,\r\n    payload: id\r\n});\r\n  \r\nexport const houseLogout = () => ({\r\n    type: types.housesLogoutCleaning,\r\n});","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Swal from 'sweetalert2';\r\nimport {startSaveHouse, startUploading, startDeleting, saveHouse, deleteHouseBuy} from '../../action/houses';\r\n\r\nexport const HouseSell = () => {\r\n    const dispatch = useDispatch();\r\n    const {user, uid:userId } = useSelector(state => state.auth);\r\n\r\n    // const {typeUserInfo} = user;\r\n    // const {isSeller} = typeUserInfo[0];\r\n\r\n    const {active}= useSelector(state => state.houses);\r\n\r\n    const editActive = {...active};\r\n\r\n    const {url, colonia, description, id, uid} = active;\r\n\r\n    const handlePhoto = () => {\r\n        Swal.fire('Teléfono: 123456')\r\n    };\r\n\r\n    const handleEdit = async() => {\r\n        const { value: formValues } = await Swal.fire({\r\n            title: 'Ingresa tus datos',\r\n            html:\r\n            '<div>Colonia</div>'+\r\n            '<input id=\"colonia1\" className=\"swal2-input\" />' +\r\n            '<div>Descripción</div>' +\r\n            '<input id=\"description1\" className=\"swal2-input\" />',\r\n            focusConfirm: false,\r\n            allowOutsideClick: false,\r\n            preConfirm: () => {\r\n            return [document.getElementById('colonia1').value, document.getElementById('description1').value]\r\n            }\r\n        });\r\n        \r\n        const editedHouse = {\r\n            ...editActive,\r\n            colonia: formValues[0],\r\n            description: formValues[1]\r\n        }\r\n        \r\n        dispatch(startSaveHouse(editedHouse));\r\n\r\n        \r\n    };\r\n\r\n    const handleEditPhoto = async() => {\r\n        const { value: file } = await Swal.fire({\r\n            allowOutsideClick: false,\r\n            title: 'Seleciona una foto',\r\n            input: 'file',\r\n            inputAttributes: {\r\n              'accept': 'image/*',\r\n              'aria-label': 'Upload your profile picture'\r\n            }\r\n          });\r\n          \r\n          \r\n          if (file) {\r\n            const reader = new FileReader()\r\n            reader.onload = (e) => {\r\n              Swal.fire({\r\n                title: 'Subiste esta foto',\r\n                imageUrl: e.target.result,\r\n                imageAlt: 'The uploaded picture'\r\n              })\r\n            }\r\n            reader.readAsDataURL(file);\r\n        }\r\n        dispatch(startUploading(file));\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch(startDeleting(id));\r\n    };\r\n\r\n    const handleRequest = () => {\r\n        Swal.fire('Solicitud enviada')\r\n    };\r\n\r\n\r\n    const handleKeep = () => {\r\n        dispatch(saveHouse(active));\r\n    };\r\n\r\n    const handleDeleteBuy = () => {\r\n        dispatch(deleteHouseBuy(id))\r\n    }\r\n\r\n    return (\r\n        <div className='screen__sell-content'> \r\n            <div\r\n            className='screen__entry-picture-sell'\r\n            style={{\r\n                backgroundSize: 'cover',\r\n                backgroundImage: `url(${url})`,\r\n            }}\r\n            ></div>\r\n            <div className='screen__entry-body-sell'>\r\n                <p className='screen__entry-content-sell'>Colonia: {colonia}</p>\r\n                <p className='screen__entry-title-sell'>{description}</p>\r\n            </div>\r\n            { user ? (  (userId === uid) ? (\r\n                    <div className='btn__main'>\r\n                        <button className='btn btn-costume' onClick={handleEdit}> Editar </button>\r\n                        <button className='btn btn-costume' onClick={handleEditPhoto}> Editar foto </button>\r\n                        <button className='btn btn-danger' onClick={handleDelete}> Eliminar </button>\r\n                        <button className='btn btn-costume' onClick={handlePhoto}> Contactar fotografo </button>\r\n                    \r\n                    </div>\r\n                ) : (\r\n                    <div className='btn__main'>\r\n                        <button className='btn btn-costume' onClick={handleRequest}> Contactar al vendedor </button>\r\n                    </div>\r\n                )\r\n            ) : (\r\n                <div className='btn__main'>\r\n                    <button className='btn btn-costume' onClick={handleKeep}> Guardar </button>\r\n                    <button className='btn btn-danger' onClick={handleDeleteBuy}> Eliminar </button>\r\n                    <button className='btn btn-costume' onClick={handleRequest}> Contactar al vendedor </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { activeHouse} from '../../action/houses';\r\n\r\nexport const AllHouses = () => {\r\n    const {allHouses} = useSelector(state => state.houses);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClick = ({id, description, colonia, url, uid}) => {\r\n        dispatch(activeHouse(id, {\r\n            description, colonia, url, uid\r\n        }));\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className='houses__houses-main'>\r\n            <input\r\n                className='houses__search-input'\r\n                type='text'\r\n                placeholder='Buscar casa'\r\n                autoComplete='off'\r\n                />\r\n            <h1>Conoce todas las casa que tenemos para ti</h1>\r\n            <div className='houses__houses-content'>\r\n                {allHouses.map( house => (\r\n                    <div className='houses__house-content' key={`${house.uid}`} onClick={() => handleClick(house)}>\r\n                        <h3>Colonia {house.colonia}</h3>\r\n                        <img className='houses__house-images' src={house.url} alt='casas' width='300px' height='200px' />\r\n                        <span>Descripción {house.description}</span>\r\n                    </div>\r\n                ))};\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { db } from \"../firebase/firebase-config\"\r\n\r\nexport const loadUserInfo = async (uid) => {\r\n    const userInfo =  await db.collection(`/${uid}/auth/userype`).get();\r\n    const info = []\r\n\r\n    userInfo.forEach((snapChild) => {\r\n        info.push({...snapChild.data()});\r\n    });\r\n\r\n    console.log(info)\r\n\r\n    const {isSeller} = info[0];\r\n\r\n    return isSeller;\r\n}","import { loadUserInfo } from '../helpers/loadUserInfo';\r\nimport { types } from '../types/types';\r\n\r\nexport const startLoading = () => ({\r\n  type: types.uiStartLoading,\r\n});\r\n\r\nexport const finishLoading = () => ({\r\n  type: types.uiFinishLoading,\r\n});\r\n\r\nexport const getUserInfo = (uid) => {\r\n  return async (dispatch) => {\r\n    const typeUserInfo = await loadUserInfo(uid);\r\n    dispatch(userInfo(typeUserInfo))\r\n  }\r\n};\r\n\r\nexport const userInfo = (typeUserInfo) => ({\r\n  type: types.uiStartInfoUser,\r\n  payload: {\r\n    typeUserInfo\r\n  }\r\n});\r\n\r\n","import Swal from 'sweetalert2';\r\nimport { db, firebase } from '../firebase/firebase-config';\r\n\r\nimport { types } from '../types/types';\r\nimport { houseLogout } from './houses';\r\nimport { finishLoading, startLoading} from './ui';\r\n\r\nexport const startLoginEmailPassword = (email, password) => {\r\n    return (dispatch) => {\r\n      dispatch(startLoading());\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then(async (user) => {\r\n          dispatch(login(user.uid, user.displayName, user.typeUserInfo));\r\n\r\n          dispatch(finishLoading());\r\n        })\r\n        .catch((e) => {\r\n          dispatch(finishLoading());\r\n          Swal.fire('Error', e.message, 'error');\r\n        });\r\n      \r\n    };\r\n  };\r\n\r\n  export const startRegisterWithEmailPasswordNameBuy = (email, password, name, isSeller) => {\r\n    return (dispatch) => {\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then(async ({ user }) => {\r\n          await user.updateProfile({ displayName: name});\r\n          dispatch(login(user.uid, user.displayName, isSeller));\r\n          const userType = {isSeller}\r\n          await db.collection(`${user.uid}/auth/userype`).add(userType);\r\n        })\r\n        .catch((e) => Swal.fire('Error', e.message, 'error'));\r\n    };\r\n\r\n  };\r\n\r\n  export const startRegisterWithEmailPasswordNameSeller = (email, password, name, isSeller) => {\r\n    return (dispatch) => {\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then(async ({ user }) => {\r\n          await user.updateProfile({ displayName: name});\r\n          dispatch(login(user.uid, user.displayName, isSeller));\r\n          const userType = {isSeller}\r\n          await db.collection(`${user.uid}/auth/userype`).add(userType);\r\n          // console.log(user.uid, user.displayName, isSeller)\r\n        })\r\n        .catch((e) => Swal.fire('Error', e.message, 'error'));\r\n    };\r\n  };\r\n\r\n  export const login = (uid, displayName, isSellerBollean) => ({\r\n    type: types.login,\r\n    payload: {\r\n      uid,\r\n      displayName,\r\n      isSellerBollean\r\n    },\r\n  });\r\n  \r\n  export const startLogout = () => {\r\n    return async (dispatch) => {\r\n      await firebase.auth().signOut();\r\n      dispatch(logout());\r\n      dispatch(houseLogout());\r\n    };\r\n  };\r\n  \r\n  export const logout = () => ({\r\n    type: types.logout,\r\n  });","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { activeHouse } from '../../action/houses';\r\n\r\nexport const MyHouse = ({id, description, colonia, url, uid}) => {\r\n    const dispatch = useDispatch();\r\n\r\n    \r\n    const handleEntryClick = () => {\r\n      dispatch(activeHouse(id, {\r\n        description, colonia, url, uid\r\n      }));\r\n    };\r\n    \r\n    return (\r\n    <div className='screen__entry pointer animate__animated animate__fadeIn animate__faster' onClick={handleEntryClick} >\r\n      {url && (\r\n        <div\r\n          className='screen__entry-picture'\r\n          style={{\r\n            backgroundSize: 'cover',\r\n            backgroundImage: `url(${url})`,\r\n          }}\r\n        ></div>\r\n      )}\r\n      <div className='screen__entry-body'>\r\n        <p className='screen__entry-title'>{description}</p>\r\n        <p className='screen__entry-content'>{colonia}</p>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {MyHouse} from './MyHouse';\r\n\r\nexport const MyHouses = () => {\r\n    const {houses} = useSelector((state) => state.houses)\r\n    // console.log('houses', houses)\r\n    return (\r\n        <div className='screen__entries'>\r\n            {houses.map((house) => (\r\n                <MyHouse key={house.id} {...house} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { startLogout } from '../../action/auth';\r\nimport { startInactive, startNewHouse, startUploading } from '../../action/houses';\r\nimport { MyHouses } from '../housesSellersBuy/MyHouses';\r\n\r\n\r\nexport const SideBar = () => {\r\n    const { name } = useSelector((state) => state.auth);\r\n    const dispatch = useDispatch();\r\n    \r\n    const handleLogout = () => {\r\n        dispatch(startLogout());\r\n    };\r\n\r\n    const handleAddNew = async() => {\r\n\r\n        const { value: formValues } = await Swal.fire({\r\n            title: 'Ingresa tus datos',\r\n            html:\r\n            '<div>Colonia</div>'+\r\n            '<input id=\"colonia\" className=\"swal2-input\" />' +\r\n            '<div>Descripción</div>' +\r\n            '<input id=\"description\" className=\"swal2-input\" />',\r\n            focusConfirm: false,\r\n            allowOutsideClick: false,\r\n            preConfirm: () => {\r\n            return [document.getElementById('colonia').value, document.getElementById('description').value]\r\n            }\r\n        });\r\n\r\n\r\n        dispatch(startNewHouse(formValues));\r\n\r\n        const { value: file } = await Swal.fire({\r\n            title: 'Seleciona una foto',\r\n            input: 'file',\r\n            inputAttributes: {\r\n              'accept': 'image/*',\r\n              'aria-label': 'Upload your profile picture'\r\n            }\r\n          });\r\n          \r\n          \r\n          if (file) {\r\n            const reader = new FileReader()\r\n            reader.onload = (e) => {\r\n              Swal.fire({\r\n                title: 'Subiste esta foto',\r\n                imageUrl: e.target.result,\r\n                imageAlt: 'The uploaded picture',\r\n                allowOutsideClick: false,\r\n              })\r\n            }\r\n            reader.readAsDataURL(file);\r\n          }\r\n        \r\n        dispatch(startUploading(file));\r\n    };\r\n\r\n    const handleReturn = () => {\r\n        dispatch(startInactive());\r\n        \r\n    };\r\n\r\n\r\n    return (\r\n        <aside className='screen__sidebar'>\r\n            <div className='screen__sidebar-navbar'>\r\n                <h3 className='mt-5'>\r\n                <i className='far fa-user'></i>\r\n                <span> {name}</span>\r\n                </h3>\r\n                <button className='btn' onClick={handleLogout}>\r\n                <i className='fas fa-sign-out-alt'> </i>\r\n                Logout\r\n                </button>\r\n            </div>\r\n            <div className='screen__new-entry' onClick={handleAddNew}>\r\n                <i className='fas fa-laptop-house fa-5x'></i>\r\n                <p className='mt-5'>Nueva casa</p>\r\n            </div>\r\n            <MyHouses />\r\n            <button className='btn btn-costume' onClick={handleReturn}> Todas las casas </button>\r\n            <Link to='/auth/registerbuy2' className='link'>\r\n                Continuar con el registro...\r\n            </Link>\r\n        </aside>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { startLogout } from '../../action/auth';\r\nimport { startInactive } from '../../action/houses';\r\nimport { MyHouses } from '../housesSellersBuy/MyHouses';\r\n\r\nexport const SideBarBuy = () => {\r\n    const { name } = useSelector((state) => state.auth);\r\n    const dispatch = useDispatch();\r\n    const handleLogout = () => {\r\n        dispatch(startLogout());\r\n    };\r\n\r\n    const handleReturn = () => {\r\n        dispatch(startInactive())\r\n    }\r\n\r\n\r\n    return (\r\n        <aside className='screen__sidebar'>\r\n            <div className='screen__sidebar-navbar'>\r\n                <h3 className='mt-5'>\r\n                <i className='far fa-user'></i>\r\n                <span> {name}</span>\r\n                </h3>\r\n                <button className='btn' onClick={handleLogout}>\r\n                <i className='fas fa-sign-out-alt'> </i>\r\n                Logout\r\n                </button>\r\n            </div>\r\n            <div className='screen__new-entry' >\r\n                <i className='fas fa-laptop-house fa-5x'></i>\r\n                <p className='mt-5'>Casas Guardadas</p>\r\n            </div>\r\n            <MyHouses />\r\n            <button className='btn btn-costume' onClick={handleReturn}> Todas las casas </button>\r\n            <Link to='/auth/registerbuy2' className='link'>\r\n                Continuar con el registro...\r\n            </Link>\r\n        </aside>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { HouseSell } from '../housesSellersBuy/HouseSell'\r\nimport { AllHouses } from './AllHouses'\r\nimport { SideBar } from './SideBar'\r\nimport { SideBarBuy } from './SideBarBuy'\r\n\r\nexport const HousesScreen = () => {\r\n  const { active } = useSelector((state) => state.houses);\r\n  \r\n  const {user} = useSelector(state => state.auth);\r\n\r\n  // const {typeUserInfo} = user;\r\n  // const {isSeller} = typeUserInfo[0];\r\n\r\n\r\n\r\n    return (\r\n      <div className='screen__main-content animate__animated animate__fadeIn animate__faster'>\r\n \r\n\r\n          { user ?  (\r\n            <> \r\n              <SideBar />\r\n              <main>{active ? <HouseSell /> : <AllHouses />}</main>\r\n            </>\r\n          )\r\n          : (\r\n              <> \r\n                <SideBarBuy />\r\n                <main>\r\n                {active ? <HouseSell /> : <AllHouses />}\r\n                </main>\r\n              </>\r\n          )}\r\n\r\n        \r\n      </div>\r\n    )\r\n}\r\n","import { useState } from 'react';\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = (newFormState = initialState) => {\r\n    setValues(newFormState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { startLoginEmailPassword } from '../../action/auth';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nexport const LoginScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading } = useSelector((state) => state.ui);\r\n\r\n    const [formValues, handleInputChange] = useForm({\r\n        email: '',\r\n        password: '',\r\n      });\r\n\r\n    const { email, password } = formValues;\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        dispatch(startLoginEmailPassword(email, password));\r\n      };\r\n\r\n    return (\r\n        <>\r\n      <h3 className='auth__title'>Login</h3>\r\n      <form className='animate__animated animate__fadeIn animate__faster' onSubmit={handleLogin}>\r\n        <input\r\n          type='text'\r\n          placeholder='Email'\r\n          name='email'\r\n          className='auth__input'\r\n          autoComplete='off'\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Password'\r\n          name='password'\r\n          className='auth__input'\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button\r\n          type='submit'\r\n          className='btn btn-primary btn-block'\r\n          disabled={loading}\r\n        >\r\n          Login\r\n        </button>\r\n        {/* <div className='auth__social-networks'>\r\n          <p>Login with social networks</p>\r\n          <div className='google-btn' onClick={handleGoogleLogin}>\r\n            <div className='google-icon-wrapper'>\r\n              <img\r\n                className='google-icon'\r\n                src='https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg'\r\n                alt='google button'\r\n              />\r\n            </div>\r\n            <p className='btn-text'>\r\n              <b>Sign in with google</b>\r\n            </p>\r\n          </div>\r\n        </div> */}\r\n        <Link to='/auth/registerbuy' className='link'>\r\n          Crear cuenta nueva\r\n        </Link>\r\n        <Link to='/auth/registerseller' className='link'>\r\n          ¿Quieres vender?\r\n        </Link>\r\n      </form>\r\n    </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport validator from 'validator';\r\nimport { startRegisterWithEmailPasswordNameBuy } from '../../action/auth';\r\n\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\n\r\nexport const RegisterScreenBuy = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [formValues, handleInputChange] = useForm({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: '',\r\n    });\r\n\r\n    const { name, email, password, password2 } = formValues;\r\n\r\n    const isSeller = false;\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n        if (isFromValid()) {\r\n            dispatch(startRegisterWithEmailPasswordNameBuy(email, password, name, isSeller));\r\n        }\r\n    };\r\n\r\n    const isFromValid = () => {\r\n        if (name.trim().length === 0) {\r\n            Swal.fire('Error','El nombre es requerido','error');\r\n          return false;\r\n        } else if (!validator.isEmail(email)) {\r\n            Swal.fire('Error','El email no es valido','error');\r\n          return false;\r\n        } else if (password !== password2 || password.length < 5) {\r\n            Swal.fire('Error','La contraseña debe de ser cuando menos de 6 caracteres y ser igual a la segunda contrase{a','error');\r\n          return false;\r\n        }\r\n        return true;\r\n      };\r\n\r\n    return (\r\n    <>\r\n      <h3 className='auth__title'>Registro para compradores</h3>\r\n      <form className='animate__animated animate__fadeIn animate__faster' onSubmit={handleRegister}>\r\n        <input\r\n          type='text'\r\n          placeholder='Name'\r\n          name='name'\r\n          className='auth__input'\r\n          autoComplete='off'\r\n          value={name}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='Email'\r\n          name='email'\r\n          className='auth__input'\r\n          autoComplete='off'\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Password'\r\n          name='password'\r\n          className='auth__input'\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Confirm password'\r\n          name='password2'\r\n          className='auth__input'\r\n          value={password2}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button type='submit' className='btn btn-primary btn-block mb-5'>\r\n          Login\r\n        </button>\r\n\r\n        <Link to='/auth/login' className='link'>\r\n          ¿Ya eres usuario?\r\n        </Link>\r\n      </form>\r\n    </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport validator from 'validator';\r\nimport { startRegisterWithEmailPasswordNameSeller } from '../../action/auth';\r\n\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nexport const RegisterScreenSeller = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [formValues, handleInputChange] = useForm({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: '',\r\n    });\r\n\r\n    const isSeller = true;\r\n\r\n    const { name, email, password, password2 } = formValues;\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n        if (isFromValid()) {\r\n            dispatch(startRegisterWithEmailPasswordNameSeller(email, password, name, isSeller));\r\n        }\r\n    };\r\n\r\n    const isFromValid = () => {\r\n        if (name.trim().length === 0) {\r\n            Swal.fire('Error','El nombre es requerido','error');\r\n          return false;\r\n        } else if (!validator.isEmail(email)) {\r\n            Swal.fire('Error','El email no es valido','error');\r\n          return false;\r\n        } else if (password !== password2 || password.length < 5) {\r\n            Swal.fire('Error','La contraseña debe de ser cuando menos de 6 caracteres y ser igual a la segunda contraseña','error');\r\n          return false;\r\n        }\r\n        return true;\r\n      };\r\n\r\n    return (\r\n        <>\r\n      <h3 className='auth__title'>Registro para vendedores</h3>\r\n      <form className='animate__animated animate__fadeIn animate__faster' onSubmit={handleRegister}>\r\n        <input\r\n          type='text'\r\n          placeholder='Name'\r\n          name='name'\r\n          className='auth__input'\r\n          autoComplete='off'\r\n          value={name}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='Email'\r\n          name='email'\r\n          className='auth__input'\r\n          autoComplete='off'\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Password'\r\n          name='password'\r\n          className='auth__input'\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Confirm password'\r\n          name='password2'\r\n          className='auth__input'\r\n          value={password2}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button type='submit' className='btn btn-primary btn-block mb-5'>\r\n          Login\r\n        </button>\r\n\r\n        <Link to='/auth/login' className='link'>\r\n          ¿Ya eres usuario?\r\n        </Link>\r\n      </form>\r\n    </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { LoginScreen } from '../components/auth/LoginScreen';\r\nimport { RegisterScreenBuy } from '../components/auth/RegisterScreenBuy';\r\nimport { RegisterScreenSeller } from '../components/auth/RegisterScreenSeller';\r\n\r\nexport const AuthRouter = () => {\r\n    return (\r\n    <div className='auth__main'>\r\n      <div className='auth__box-container'>\r\n        <Switch>\r\n          <Route path='/auth/login' component={LoginScreen} />\r\n          <Route path='/auth/registerbuy' component={RegisterScreenBuy} />\r\n          <Route path='/auth/registerseller' component={RegisterScreenSeller} />\r\n          <Redirect to='/auth/login' />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Redirect, Switch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { firebase } from '../firebase/firebase-config';\r\nimport { PrivateRoute } from './PrivateRouter';\r\nimport { PublicRouter } from './PublicRouter';\r\nimport { HousesScreen } from '../components/houses/HousesScreen';\r\nimport { AuthRouter } from './AuthRouter'\r\nimport { login } from '../action/auth';\r\nimport { startLoadingHouses } from '../action/houses';\r\nimport { getUserInfo } from '../action/ui';\r\n\r\nexport const AppRouter = () => {\r\n    const dispatch = useDispatch();\r\n    const {user: isSeller} = useSelector(state => state.auth);\r\n\r\n    // const {typeUserInfo} = user;\r\n    // const {isSeller} = typeUserInfo[0];\r\n\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    useEffect(() => {\r\n        firebase.auth().onAuthStateChanged(async (user) => {\r\n          if (user?.uid) {\r\n            dispatch(getUserInfo(user.uid));\r\n            setIsLoggedIn(true);\r\n            dispatch(startLoadingHouses(user.uid));\r\n            dispatch(login(user.uid, user.displayName, isSeller));\r\n          } else {\r\n            setIsLoggedIn(false);\r\n          }\r\n        });\r\n      }, [dispatch, setIsLoggedIn]);\r\n\r\n    return (\r\n        <Router>\r\n        <div>\r\n            <Switch>\r\n                <PublicRouter \r\n                    path='/auth'\r\n                    component={AuthRouter}\r\n                    isAuthenticated={isLoggedIn}\r\n                />\r\n                <PrivateRoute\r\n                    exact\r\n                    path='/'\r\n                    component={HousesScreen}\r\n                    isAuthenticated={isLoggedIn}\r\n                />\r\n                <Redirect to='/auth/login' />\r\n            </Switch>\r\n        </div>\r\n      </Router>\r\n    )\r\n}\r\n","import { types } from '../types/types';\r\n\r\nconst initialState = {\r\n  uid: '',\r\n  name: '',\r\n  user: false\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.login:\r\n      return {\r\n        ...state,\r\n        uid: action.payload.uid,\r\n        name: action.payload.displayName,\r\n        user: action.payload.isSellerBollean\r\n      };\r\n    case types.logout:\r\n      return {...initialState};\r\n    case types.uiStartInfoUser:\r\n      return {\r\n        ...state,\r\n        user: action.payload.typeUserInfo\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../types/types';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  // user: []\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.uiStartLoading:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.uiFinishLoading:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    // case types.uiStartInfoUser:\r\n    //   return {\r\n    //     ...state,\r\n    //     user: [action.payload, ...state.user]\r\n    //   }\r\n    // case types.uiStartLogout:\r\n    //   return {\r\n    //     loading: false,\r\n    //     user: []\r\n    //   }\r\n    default:\r\n      return state;\r\n  }\r\n};","import { types } from '../types/types';\r\n\r\nconst initialstate = {\r\n  allHouses: [],\r\n  houses: [],\r\n  active: null,\r\n};\r\n\r\nexport const housesReducer = (state = initialstate, action) => {\r\n    switch (action.type) {\r\n      case types.houseActive:\r\n        return {\r\n          ...state,\r\n          active: {\r\n            ...action.payload,\r\n          },\r\n        };\r\n      case types.housesInactive:\r\n        return {\r\n          ...state,\r\n          active: null\r\n        };\r\n      case types.housesAddNew:\r\n        return {\r\n          ...state,\r\n          houses: [action.payload, ...state.houses]\r\n        }\r\n      case types.housesLoad:\r\n        return {\r\n          ...state,\r\n          houses: [...action.payload],\r\n        };\r\n      case types.housesAllLoad:\r\n        return {\r\n          ...state,\r\n          allHouses: [...state.allHouses, ...action.payload]\r\n        }\r\n      case types.housesUpdated:\r\n        return {\r\n          ...state,\r\n          houses: state.houses.map(\r\n            house => house.id === action.payload.id\r\n              ? action.payload.data\r\n              : house\r\n          )\r\n        }\r\n      case types.housesDelete:\r\n        return {\r\n          ...state,\r\n          active: null,\r\n          houses: state.houses.filter(house => house.id !== action.payload)\r\n        }\r\n      case types.housesLogoutCleaning:\r\n        return {\r\n          ...state,\r\n          active: null,\r\n          houses: [],\r\n          allHouses: [],\r\n        }\r\n      case types.housesUpdatedAllHouses:\r\n        return{\r\n          ...state,\r\n          allHouses: state.allHouses.map(\r\n            house => house.id === action.payload.id\r\n              ? action.payload.data\r\n              : house\r\n          )\r\n        }\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  ","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { authReducer } from '../reducers/authReducer';\r\nimport { uiReducer } from '../reducers/uiReducer';\r\nimport{ housesReducer } from '../reducers/housesReducer'\r\n\r\nconst composeEnhancers =\r\n  (typeof window !== 'undefined' &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst reducers = combineReducers({\r\n  auth: authReducer,\r\n  ui: uiReducer,\r\n  houses: housesReducer\r\n});\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport { AppRouter } from './routers/AppRouter'\r\nimport { store } from './store/store'\r\n\r\nexport default function TyerraApp() {\r\n    return (\r\n        <Provider store={store}>\r\n            <AppRouter/>\r\n        </Provider>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TyerraApp from './TyerraApp';\nimport './styles/styles.scss';\n\nReactDOM.render(\n    <TyerraApp />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}